
NAME: geocode

SYNOPSIS:

 geocode [-h ht] [-p pix] [ [-o|-l] N W S E ]  [-i lat lon nl ns]
         [-r <-nearest | -bilinear | -sinc | '-kernel x y'>]
         [-background <fill>] [-log <file>]
         <in_img> <projfile> <projkey> <outfile>

 Required:
    in_img    input image (.img and .meta)
    projfile  projection definition file name [from projprm]
    projkey   projection key name [as passed to projprm]
    outfile   output image (makes .img and .meta)

DESCRIPTION:
    Geocode projects the given SAR image into the given map projection at the
    given pixel size. Performs automatic geocoding of SAR files. Geocode works
    on slant range, ground range, or even already-geocoded image files.

OPTIONS:
    The default is to make an output image just big enough to contain the
    entire geocode input image.  You can change (enlarge or shrink) the output
    window with the windowing options: -l specifies the output window in
    latitude and longitude (decimal degree); -o specifies the output window in
    projection coordinates; and -i specifies the output image's center point
    and size.

    -o  Means N W S E are projection coordinates.
        N    Y projection coordinate of upper edge
        W    X projection coordinate of left edge
        S    Y projection coordinate of lower edge
        E    X projection coordinate of right edge

    -l  Means N S are latitude, and E W are longitude:
        N    Latitude of north edge of output
        W    Longitude of west edge of output
        S    Latitude of south edge of output
        E    Longitude of east edge of output

    -i  Means write a nl x ns output image with:
        lat  Latitude of center of output
        lon  Longitude of center of output
        nl   Number of lines in output image
        ns   Number of samples in output image

    -p <pix>
        Set output pixel size to pix meters.
    -h <ht>
        Set average input elevation to ht meters.
    -r <-nearest | -bilinear | -sinc | '-kernel x y'>
        Set the output resampling scheme used. (See remap(1)).
        Default is -nearest, for nearest-neighbor interpolation.
    -background <fill>
        Set the background (non-image) parts of the output
        image to the value <fill> (default is zero-- black).
   -log <file>
        Allows the output to be written to a log file.

 
EXAMPLES:
    In these examples, we show various ways to geocode a SAR image named asf_e1
    (.img and .meta). First a Polar Stereographic map projection file
    "polar.proj" was created using:

             example0> projprm  -l -45 -p 70 PLSTEREO ps1 met polar.proj


        1.  In order to do full scene processing, specify no windowing    
            option on the command line.

            example1> geocode asf_e1 polar.proj ps polar_a

                This example transforms the input ASF image asf_e1 to 
                the geocoded file polar_a.img.  The projection definition
                file, polar.proj, is used to get the definition for the output
                projection, ps.  The output window defaults to the whole SAR
                scene.


        2.  The second option allows the area of interest to be specified
            using output projection coordinates.  In this case, the -o command
            line option is used.  

            example3> geocode  -o 571800 -2745700 631500 -2679700 \
                         asf_e1 polar.proj ps polar_b

                This example clips the ouput file so the output projection
                coordinates are upper left of 571800,-2745700 and lower right
                of 631500,-2679700 (read in x,y coordinates). The output file
                is named polar_b.


        3.  The final windowing option allows the area of interest to be 
            specified by latitude and longitude.

            example4> geocode  -l 65.0 -148.0 64.5 -147.1 \
                         asf_e1 polar.proj ps polar_c
                        
                This example clips the output image so it only includes the
                area with corner coordinates of upper left 65.0, -148.0 and
                lower right 64.5, -147.1 (read as latitude,longitue).
                The output file is named polar_c.


SEE ALSO:  projprm(1)

HARDWARE/SOFTWARE LIMITATIONS:
    A projection file must be created before running this program. Use the
    projprm program to create such a file. See projprm(1) for more details.

BUGS: None known.

AUTHOR: Orion Lawlor

CONTACT: apd@asf.alaska.edu
         http://www.asf.alaska.edu/apd


