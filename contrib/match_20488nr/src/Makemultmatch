#
# Makefile for image matching program (multimatch)
#
SHELL=/bin/sh

INCDIR  = /usr/Motif-2.1/include/ 
BINDIR  = ../bin
LIBS    = -lXm -lXt -lX11 -lm

# 
# For SGI
# 
FC     = /usr/bin/f77
FFLAGS = -O2 -DSGI -bytereclen -extend_source -OPT:Olimit=2500 -I$(INCDIR) 

CC     = /usr/bin/cc 
CFLAGS = -O2 -DSGI -I$(INCDIR)

LC     = /usr/bin/f77  
LFLAGS = $(LIBS)

# 

CSOURCES = graphx.c
COBJECTS = $(CSOURCES:.c=.o)

FSOURCES = multimatch.f 
FOBJECTS = $(FSOURCES:.f=.o)

BINLIST	= $(BINDIR)/multimatch

# 
# Standard targets for overall system makefiles
# 
bins : $(BINLIST)

SOURCES: $(FSOURCES) $(CSOURCES)

# Make all sybsystem main programs, scripts, IDL procedures, etc.


# C executables

graphx.o	: graphx.c 
		$(CC) $(CFLAGS) -c graphx.c

# Fortran executables 

multimatch.o	: multimatch.f
		$(FC) $(FFLAGS) -c multimatch.f

# exe only

$(BINDIR)/multimatch: $(FOBJECTS) $(COBJECTS)
	$(LC) -o $@ $(FOBJECTS) $(COBJECTS) $(LFLAGS)








