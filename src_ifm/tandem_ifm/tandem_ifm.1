NAME:  tandem_ifm - Performs baseline refinement & DEM generation

SYNOPSIS: tandem_ifm igram meta seeds [-s start] [-d dem_phase]
                        [-f <strength>] [-x <x> -y <y>]

     igram        Non-multilooked Interferogram (.amp, .phase, .ddr)
     meta         Interferogram metadata (.meta file)
     seeds        Tie point elevation seed file name

     -s start     If specified, baseline iteration will
                  start at base.<start> instead of base.0

     -d dem_phase A LAS phase image, probably created by
                  the demIFM(1) script.  This is used for dem-guided
                  phase unwrapping.

     -f strength  Filter the image (using phase_filter(1))
                  with the specified power (1.2 to 1.7).

     -x x, -y y: Specify an alternate phase unwrapping start location.
                 The default is the image center.

DESCRIPTION:

	Tandem_ifm turns an interferogram into a DEM, using
   the given seed points.
	
	To do so, it must perform baseline refinement (using
   the provided seed points), starting at the file "base.00"
   (created by resolve(1)) and creating new baselines
   until the newly-created DEM matches the seed points well.
     
   The seed point file contains triplets of values in the form:
   		sample  line  height_in_meters
    
   You need to create this file with a text editor or use demIFM(1).
    It will probably be helpful to use amp2img(1) on the amplitude file
    of image 1, then pick out points whose heights you know
    (e.g. from a topographical map).  You can also use the demIFM(1)
    script to automatically generate tie points from an existing DEM.
    
    	Note that the line and sample are relative to the original
    master image, so if you have trimmed the image, you need to add
    these "master coordinates" back in.  That means that if you use
    amp2img or ml to create an amplitude file, you need to multiply the
    line (y) values by 5.
    
    	Note that demIFM will automatically generate this file for you
    if you have a DEM.
    
        The output will be:
        
    elevation.dem  -- a LAS 6.0 float image of the height in meters at 
    		      each point (this is a ground-range DEM).
    elevation_sr.ht -- a LAS 6.0 float image of the slant-range height in 
    meters.
    eleverr.ht -- a LAS 6.0 float image of the error in height at each
     		  point (meters).
    ml.img -- a LAS 6.0 3-band (color) byte image of the phase bands.

    Internally, tandem_ifm calls the following programs:

     1.) (create unwrapped interferogram)
         deramp
	 ml
	 <subtract DEM phase>
	 <phase_filter>
	 escher
	 <add DEM phase again>

     2. (refine the baseline)
	 deramp
	 refine_base
       (if baseline not OK goto step 2)
	
     3. (generate the DEM)
	 elev
	 eleverr
	 deskew_dem
	 ifm2ppm

OPTIONS:

ERROR MESSAGES:
MESSAGE GIVEN:				REASON:
-------------------------------------------------------------------

EXAMPLES:
	If you have two float-complex files, e1 (.cpx, .ddr, and .L)
	and e2 (.cpx, .ddr, and .L) which aren't co-registered, you can:

	example1% register_cpx e1 e2 e12_igram

	which will co-register the images and generate the 
	interferogram "e12_igram" (.amp, .phase, and .ddr).

	To create seed points, you could figure out and enter
	the seed points by hand, or if you have a dem "usgs_dem" 
	(.dem and .ddr), you could:

	example1% amp2img e1.amp e1_byte.img
	example1% demIFM e1_byte.img e1 base.00 usgs_dem.dem
	
	which will create an amplitude image, and co-register
	the dem to it.  The output seed points will be "out_dem_seeds".

	You can now refine the baseline and generate a DEM with:

	example1% tandem_ifm e12_igram e1 out_dem_seeds

	which will refine the interferometric baseline and
	generate a ground-range DEM.
	
SEE ALSO:
	amp2img(1), register_sic(1), register_ccsd(1), trim(1), resolve(1),
	demIFM(1)

HARDWARE/SOFTWARE LIMITATIONS:

BUGS:

AUTHOR: T. Logan; O. Lawlor

CONTACT: apd@asf.alaska.edu
	 http://www.asf.alaska.edu/apd
       
