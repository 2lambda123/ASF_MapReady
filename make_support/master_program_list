################################ Master Program List ####################
#
# This is the Master List of All ASF Programs, Libraries, and Tools.
#
#########################################################################
#
#   The program makemake, in asf_tools/make_support, reads this file
# to automatically generate the following files (these files should 
# NOT be edited!)
#    asf_tools/Makefile
#    asf_tools/release/autotar/source.*
#    asf_tools/release/autotar/binary.*
#
#   To add a new program or tool, just put an entry for it
# in the PROGRAMS or TOOLS sections of this file.  Then
# run makemake.  It will parse this file and generate
# new copies of the files above, replacing the old copies.
#
# makemake ignores any line beginning with a #,
# but will completely misunderstand a line with a # in the middle.
#
# makemake uses lines starting with @ to find the path to 
# the program source code (e.g., src_tc vs. src_geo).
#
# Other than # and @, makemake couldn't care less about what form whitespace
# takes, as long as it's there.  Any indentation, returns, etc.
# which you see below are purely for human enjoyment.
#
# Also, note that:
#     progname { BINS x }   is ok, but
#     progname {BINS x}     is not ok (no space between tokens),
#     progname            is not ok (missing braces).
#
# The general syntax is:
#     LIBS { <libraries ...> }
#     PROGRAMS { <programs ...> }
#
#     <programs...>=<program> [ <programs...> ]
#     <program>= <program name> { [ PROGRAMS <program names> ] [ BINS <bin/sys/file names>] }
#
# Here, a "program" is a full-fledged package, with an entry
# in the top-level PROGRAMS list, while "binaries" are just
# files in the bin/$SYS/ directory.
#

# A listing of libraries (easy).
LIBS
{
@src_lib/
	asf
	regex_wrapper
	asf_meta
	asf_concat
	asf_lt
	asf_geolib
	asf_odl
	asf_fft
	libjpeg
	libtiff
	libgeotiff
@src_ifm/
	libifm
@src_tc/
	sarmodel
	tcobj
}

# A listing of programs (not so easy).
PROGRAMS
{
@src/
	calibrate { }
	stats { }
	convert2byte { PROGRAMS stats }
	deskew { }
	diff_las {  }
	dspddr { }
	fftMatch { }
	las2geotiff { }
	las2jpeg { BINS jpeg2las }
	las2ppm { }
	las_op { }
	makeddr { }
	meta2ddr { BINS ddr2meta }
	metadata { }
	remap { }
	resample { }
	sarin { }
	sarout { }
	sr2gr { }
	trim { }
	
@src_geo/
	accum_offset { }
	concat { }
	concat_dem { }
	concatm { }
	fit_quadratic { }
	idimage { BINS idtable }
	projprm { }

# Because makemake parses this file from top-to-bottom,
# you can't reference not-yet-listed programs.
# Hence the scripts are at the end.
	geocode
	{
		PROGRAMS
			remap
			fit_quadratic
	}
	auto_sar_mosaic 
	{
		PROGRAMS
			calibrate
			sarin
			geocode
			concat
			resample
			idimage
	}
	auto_swath_mosaic 
	{
		PROGRAMS
			calibrate
			sarin
			accum_offset
			concatm
			resample
	}

@src_ifm/
	aisp
	{ 
		BINS
			calc_deltas
			spectra
	}
	amp2img {  }
	avg_in_dop { }
	c2p { }
	coh { }
	cpx_spectrum { }
	cpx_autofilter { PROGRAMS cpx_spectrum BINS cpx_filter gen_filt_params }
	create_dem_grid	{ }
	dem2phase { }
	dem2seeds { }
	deskew_dem { }
	reskew_dem { }
	deramp { }
	elev { }
	eleverr { }
	escher { }
	fico { }
	fit_line { }
	fit_plane { }
	fit_warp { }
	igram  { }
	ceos2raw { }
	lz2raw_flywheel { }
	ml { }
	p2c { }
	phase_filter { }
	resolve { PROGRAMS fftMatch amp2img c2p }
	refine_base { }
	refine_offset { }
	trim_slc { }
	zeroify { }
	
@src_tc/
	2dmap { }
	demimg { }
	demclip { }
	despike { }
	greycorr { }
	sargeom { }
	sarsim { }
	rtc_add { }
	tpl_mult { }
	tpl_search { }
	correlate 
	{
		PROGRAMS
			resample
			tpl_mult
			tpl_search
			greycorr
			2dmap
	}
	terrcorr
	{
		PROGRAMS
			sarin
			calibrate
			correlate
			demimg
			demclip
			despike
			sargeom
			rtc_add
			sarsim 
	}
@src/
# Bleeping forward references... the DEM converters
# have to go down here, since they reference reference
# concat which is in src_geo
        sdts2las { PROGRAMS concat BINS sdts_ingest }
	usgs2las { PROGRAMS concat_dem BINS usgs_ingest }

# Propagate is down here so it gets built last-- it tends to kill the
# build (because not every machine has f77).
	propagate { BINS gen_oe asap }
	

# X-Windows source code	
@src_x/
	sarview { BINS sarview_bin support }
}

#The categories have no directories or source, but are valid
#  autotar and makefile targets.

CATEGORIES
{

#General Utilites (useful to everybody)
	utility {
		calibrate dspddr 
		metadata sarin sarout
		
		amp2img diff_las fftMatch
                las2jpeg las2ppm las_op
                makeddr propagate remap resample 
                sdts2las sr2gr trim usgs2las
	}

#All unrestricted source (geocoding + terrain correction)
	usource {
		utility
		auto_sar_mosaic auto_swath_mosaic
		concat concatm concat_dem geocode projprm
		terrcorr
	}

#Inteferometry (i.e. all restricted and unrestricted source)
	interferometry {
		usource
        	aisp ceos2raw demIFM fix_in lz2raw_flywheel
		refine_offset 
        }

# SARview: this is separate because it requires Tcl/Tk to compile or run
	sarviewer {
		sarview
	}
}
