/*************************************************************************
 * Copyright(c) 1996, California Institute of Technology.                *
 *             ALL RIGHTS RESERVED.                                      *
 * U.S. Government Sponsorship acknowledged.                             *
 *************************************************************************/
/*=======================
	@(#)sp_test_get_num_jobs.crt	1.1  11/21/96
=========================*/

if exists (select * from sysobjects where name = "sp_test_get_num_jobs")
	drop proc sp_test_get_num_jobs
go

create proc sp_test_get_num_jobs (@job_type char(15),@job_state char(15))
as
	declare @num int
	declare @str char(10)

	select @num = 0

	/* find a jobid */
	select @num = count (job_id)
			from jobs
			where job_state = @job_state
			and job_type = @job_type

        select @str = convert(char(3), @num)
	print "%1!",@str

go
