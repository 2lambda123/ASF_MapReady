/*************************************************************************
 * Copyright(c) 1996, California Institute of Technology.                *
 *             ALL RIGHTS RESERVED.                                      *
 * U.S. Government Sponsorship acknowledged.                             *
 *************************************************************************/

/*=======================
        @(#)sp_get_data_for_ims_status.crt	1.1  11/26/96
=========================*/

if exists (select * from sysobjects where name = "sp_get_data_for_ims_status")
	drop proc sp_get_data_for_ims_status
go

create proc sp_get_data_for_ims_status( @job_id int, @job_type JobTypeType)
as

	if @job_type = "L1"
	begin
		select 
				order_id, item_id,
				platform, sensor,
				dataset, product_id, job_comment
			from L1_orders o, L1_procparms p, jobs j
			where o.job_id = @job_id and p.job_id = @job_id and
				j.job_id = @job_id
	end

	else if @job_type = "SCAN"
	begin
        select
				order_id, item_id,
				platform, sensor,
				dataset, product_id, job_comment
		from scan_orders s, jobs j
		where s.job_id = @job_id and j.job_id = @job_id

	end

go
