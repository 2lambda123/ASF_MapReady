/*************************************************************************
 * Copyright(c) 1996, California Institute of Technology.                *
 *             ALL RIGHTS RESERVED.                                      *
 * U.S. Government Sponsorship acknowledged.                             *
 *************************************************************************/

/*==============================================================================
Filename:	rules.crt

Purpose:        Define PPS DB table attribute rules
 
Input:          none.
 
Output:         PPS database relation Rules.
 
Modif History:  @(#)rules.crt	1.8  06/09/97
 
Detailed Desc: 	
==============================================================================*/

print "************************Creating Types************************"
go

/* Define Types */

exec sp_addtype  ActivityIdType,	"char(3)"
exec sp_addtype  CoordSysType,   	"char(15)"
exec sp_addtype  CounterNameType,       "varchar(15)"
exec sp_addtype	 DataDirectionType,     "char(7)" 
exec sp_addtype  DestinationType,   	"char(2)"
exec sp_addtype  FrameModeType, 	"char(9)"
exec sp_addtype  JobStateType,          "varchar(15)"
exec sp_addtype  JobTypeType,	        "varchar(10)"
exec sp_addtype  LogicalType,  		"char(3)"
exec sp_addtype  MediaIdType,           "char(12)"
exec sp_addtype  MediaTypeType,         "char(5)"
exec sp_addtype  MessageType,  		"char(20)"
exec sp_addtype  ProcModeType, 		"varchar(15)"
exec sp_addtype  ModeType,  		"char(3)"
exec sp_addtype  OrderType,	   	"char(3)"
exec sp_addtype  OutputFormatType,   	"char(4)"
exec sp_addtype  PriorityType,   	"varchar(10)"
exec sp_addtype  ProductType,   	"char(13)"
exec sp_addtype  ProjectionType,   	"char(12)"
exec sp_addtype  RecorderIdType,	"varchar(16)"
exec sp_addtype  SatType, 		"char(2)"
exec sp_addtype  SensorType,   		"char(1)"
exec sp_addtype  StationIdType,   	"char(2)"
exec sp_addtype  StateVecType, 	  	"char(10)"
exec sp_addtype  TimeType,  		"char(21)"
go

print "************************Creating Rules***********************"
go

/* Create Rules which specify the valid domain for a column */

create rule ActivityIdRule as	@activityid in ('RLT','RES','DMP','REO','DTV')
go
create rule CoordSysRule as	@sys in ('TRUE_EQUATORIAL','MEAN_OF_DATE')
go
create rule DataDirectionRule as @datadirection in ('FORWARD', 'REVERSE', 'UNKNOWN')
go
create rule DestinationRule as	@destination in ('CP','HC')
go
create rule FrameModeRule as	@framemode in ('ARCTIC','ANTARCTIC')
go
create rule FrameIdRule as	@frameid between 1 and 900
go
create rule JobStateRule as	@order in ('PENDING','READY','AVAILABLE','SUBMITTED', 'COMPLETED', 'CANCEL/FAIL', 'RETRY')
go
create rule LogicalRule as	@logical in ('YES','NO')
go
create rule MediaTypeRule as	@mediatype in ('DISK','DCRSI','ID-1')
go
create rule ModeRule as		@mode in ('EH1','EH2','EH3','EH4','EH5','EH6','ST1','ST2','ST3','ST4','ST5','ST6','ST7','SNA','SNB','STD','SWA','SWB','WD1','WD2','WD3','FN1','FN2','FN3','FN4','FN5','EL1','RLT')
go
create rule OrderTypeRule as	@order in ('TDR','TSR','RPR','FPR','COR')
go
create rule OutputFormatRule as	@outputformat in ('CEOS','HDF')
go
create rule PriorityRule as	@priority in ('LOW','ROUTINE','HIGH','URGENT')
go
create rule ProcModeRule as	@processor_mode in ('CONTINUOUS','SCANSAR')
go
create rule ProductTypeRule as	@producttype in ('STANDARD','CAL_SET','COMPLEX','CCSD','RAMP','SCANSAR','LOW','FULL','COMPENSATED' ,'UNCOMPENSATED','QUICKLOOK')
go
create rule ProjectionRule as	@projection in ('GROUND_RANGE','SLANT_RANGE','LAMBERT','PS','UTM')
go
create rule SatRule as		@sat in ('E1', 'E2', 'J1', 'R1')
go
create rule SensorRule as	@sensor in ('S','O','V','Z')
go
create rule StationIdRule as	@station in ('FA','MC','AS','BE','CO','CU','ES','FS','GH','HA','HO','HY','IS','IN','JO','KS','KU','MA','MS','PP','PH','SA','SE','SY','TF','TG','TH','TO','TS','WF','WH')
go
create rule StateVecRule as	@station in ('PREDICTED','RESTITUTED','PRECISION')
go
create rule JobTypeRule as	@jobtype in ('L1','SCAN')
go
create rule CounterNameRule as	@countername in ('job_id')
go

print "************************Binding Rules************************"
go

/* bind rule to a user defined datatype */
exec sp_bindrule ActivityIdRule,	ActivityIdType
exec sp_bindrule CoordSysRule,		CoordSysType
exec sp_bindrule DataDirectionRule, 	DataDirectionType
exec sp_bindrule DestinationRule,	DestinationType
exec sp_bindrule FrameModeRule,		FrameModeType
exec sp_bindrule JobStateRule,		JobStateType
exec sp_bindrule JobTypeRule,		JobTypeType
exec sp_bindrule LogicalRule,		LogicalType
exec sp_bindrule MediaTypeRule,		MediaTypeType
exec sp_bindrule ModeRule,		ModeType
exec sp_bindrule OrderTypeRule,		OrderType
exec sp_bindrule OutputFormatRule,	OutputFormatType
exec sp_bindrule PriorityRule,		PriorityType
exec sp_bindrule ProcModeRule,		ProcModeType
exec sp_bindrule ProductTypeRule,	ProductType
exec sp_bindrule ProjectionRule,	ProjectionType
exec sp_bindrule SatRule,		SatType
exec sp_bindrule SensorRule,		SensorType
exec sp_bindrule StationIdRule,		StationIdType
exec sp_bindrule StateVecRule,		StateVecType
exec sp_bindrule CounterNameRule,	CounterNameType
go
