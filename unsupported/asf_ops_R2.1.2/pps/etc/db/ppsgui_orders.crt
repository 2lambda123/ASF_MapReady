/*************************************************************************
 * Copyright(c) 1996, California Institute of Technology.                *
 *             ALL RIGHTS RESERVED.                                      *
 * U.S. Government Sponsorship acknowledged.                             *
 *************************************************************************/

/*==============================================================================
Filename:	ppsgui_orders.crt
 
Purpose:        Destroy old ppsgui_orders database (if one exists), then
		create a new one.
 
Input:          none.
 
Output:         PPS ppsgui_orders database.
 
Modif History:
		@(#)ppsgui_orders.crt	1.4  03/11/97
 
Detailed Desc: 
==============================================================================*/

if exists (select 1 from sysobjects where name = "ppsgui_orders")
	drop table ppsgui_orders
go

create table ppsgui_orders (

	/* Order Type - "Scan QLK" */
	job_type	JobTypeType		not null,
	quicklook_flag	LogicalType		not null,

	/* Priority */
	priority	PriorityType		not null,
	priority_num	int			null,

	/* Media ID - "WS0254" */
	media_id	MediaIdType		null,

	/* Mode - "S1 *" */
	mode		ModeType		null,

	/* Sat Sens Rev - "E1 S 02458" */
	platform	SatType			null,
	sensor		SensorType		null,
	rev		int			null,

	/* Frame ID - "724 4" */
	frame_id	int			null,
	subframe_id	int			null,

	/* Job ID */
	job_id		int			not null,

	/* Order & Item ID - "000001045 01" */
	order_id	int			null,
	item_id		int			null,

	/* State */
	job_state	JobStateType		not null,

	/* Pixel Spacing */
	pixel_spacing	real			null,

	/* Age - date of last job state change */
	state_date	datetime		not null,

	/* Prod Time - future enhancement? */
	prod_time	int			null,

	/* Insert Top */
	insert_top_flag	LogicalType		not null,

/* Fields which Ron Foust wants to query but not display are below this line */

	/* Sequence */
	sequence	int			null,

	/* Activity */
	activity_id	ActivityIdType		null,

	/* Station */
	station_id	StationIdType		null,

	/* Product Type */
	product_type	ProductType		null,

	/* Projection */
	projection	ProjectionType		null,

	/* Processing Gain */
	processing_gain	int			null,

	/* Deskew */
	deskew_flag	LogicalType		null,

	/* Output Format */
	output_format	OutputFormatType	null,

	/* Media Type */
	media_type	MediaTypeType		null,

	/* Media Location - optional */
	media_location	varchar(128)		null,

	data_direction	DataDirectionType	null,
	compensation_flag	LogicalType	null
)
go

create clustered index gui_idx on ppsgui_orders (job_id, order_id, item_id)
go
